# ====================================
# Decap CMS é…ç½®æ–‡ä»¶ - å¢å¼ºç‰ˆ
# ====================================

# æœ¬åœ°å¼€å‘æ¨¡å¼ï¼ˆéœ€è¦è¿è¡Œ npx decap-serverï¼‰
local_backend: true

# åç«¯é…ç½®ï¼ˆéƒ¨ç½²åˆ° Cloudflare Pages åä½¿ç”¨ï¼‰
backend:
  name: git-gateway
  branch: main

# åª’ä½“æ–‡ä»¶é…ç½®
media_folder: "public/uploads"
public_folder: "/uploads"

# æœ¬åœ°åŒ–è®¾ç½®
locale: 'zh_Hans'

# ç¼–è¾‘å™¨è®¾ç½®
editor:
  preview: true

# Logo è‡ªå®šä¹‰ï¼ˆå¯é€‰ï¼‰
# logo_url: /logo.png

# é›†åˆé…ç½®
collections:
  # ====================================
  # æ–‡ç« ç®¡ç†
  # ====================================
  - name: "posts"
    label: "ğŸ“ æ–‡ç« "
    label_singular: "æ–‡ç« "
    folder: "src/content/posts"
    create: true
    format: "frontmatter"
    extension: "md"
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    path: "{{year}}/{{slug}}/index"
    media_folder: "images"
    public_folder: "./images"
    summary: "{{title}} - {{category}} - {{published}}"
    sortable_fields: ['published', 'title', 'category']
    view_filters:
      - label: "è‰ç¨¿"
        field: draft
        pattern: true
      - label: "å·²å‘å¸ƒ"
        field: draft
        pattern: false
    view_groups:
      - label: "åˆ†ç±»"
        field: category
      - label: "å¹´ä»½"
        field: published
        pattern: \d{4}
    
    fields:
      # åŸºç¡€ä¿¡æ¯
      - label: "æ ‡é¢˜"
        name: "title"
        widget: "string"
        required: true
        hint: "æ–‡ç« æ ‡é¢˜ï¼Œä¼šæ˜¾ç¤ºåœ¨é¡µé¢é¡¶éƒ¨å’Œæœç´¢ç»“æœä¸­"

      - label: "ä½œè€…"
        name: "author"
        widget: "string"
        default: "William"
        required: false

      - label: "å‘å¸ƒæ—¥æœŸ"
        name: "published"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "YYYY-MM-DD"
        time_format: false
        required: true
        default: ""

      - label: "æ›´æ–°æ—¥æœŸ"
        name: "updated"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "YYYY-MM-DD"
        time_format: false
        required: false
        hint: "æ–‡ç« æœ€åæ›´æ–°æ—¶é—´ï¼Œå¯é€‰"

      - label: "è‰ç¨¿çŠ¶æ€"
        name: "draft"
        widget: "boolean"
        default: false
        required: false
        hint: "å¼€å¯åæ–‡ç« ä¸ä¼šåœ¨ç½‘ç«™ä¸Šæ˜¾ç¤º"

      # SEO å’Œæ‘˜è¦
      - label: "æ–‡ç« æ‘˜è¦"
        name: "description"
        widget: "text"
        required: false
        hint: "150-160å­—ç¬¦ï¼Œä¼šæ˜¾ç¤ºåœ¨æœç´¢ç»“æœå’Œç¤¾äº¤åˆ†äº«ä¸­"
        pattern: ['^.{0,200}$', "æ‘˜è¦å»ºè®®ä¸è¶…è¿‡200å­—ç¬¦"]

      - label: "å°é¢å›¾"
        name: "image"
        widget: "image"
        required: false
        hint: "æ¨èå°ºå¯¸: 1200x630pxï¼Œç”¨äºç¤¾äº¤åˆ†äº«å’Œæ–‡ç« å¤´å›¾"
        media_library:
          config:
            max_file_size: 2048000

      - label: "å›¾ç‰‡æè¿° (Alt Text)"
        name: "imageAlt"
        widget: "string"
        required: false
        hint: "ç”¨äº SEO å’Œæ— éšœç¢è®¿é—®"

      # åˆ†ç±»å’Œæ ‡ç­¾
      - label: "åˆ†ç±»"
        name: "category"
        widget: "select"
        required: false
        options:
          - label: "ğŸ›ï¸ å…šå›½ç››ä¸–"
            value: "å…šå›½ç››ä¸–"
          - label: "ğŸ“° å¥‡æ–‡"
            value: "å¥‡æ–‡"
          - label: "ğŸ“œ å†å²è¿”å¯»å‘³"
            value: "å†å²è¿”å¯»å‘³"
          - label: "ğŸ”§ å®ç”¨å·¥å…·"
            value: "å®ç”¨å·¥å…·"
          - label: "ğŸ“š å­¦ä¹ "
            value: "å­¦ä¹ "
          - label: "ğŸ“ ç¬”è®°"
            value: "ç¬”è®°"
          - label: "ğŸ’­ éšç¬”"
            value: "éšç¬”"
          - label: "ğŸ¨ è®¾è®¡"
            value: "è®¾è®¡"
        hint: "é€‰æ‹©ä¸€ä¸ªä¸»è¦åˆ†ç±»"

      - label: "æ ‡ç­¾"
        name: "tags"
        widget: "list"
        required: false
        default: []
        hint: "è¾“å…¥åæŒ‰å›è½¦æ·»åŠ ï¼Œæœ€å¤šå»ºè®® 5 ä¸ªæ ‡ç­¾"
        max: 10
        min: 0

      # é«˜çº§é€‰é¡¹
      - label: "ğŸ¯ é«˜çº§é€‰é¡¹"
        name: "advanced"
        widget: "object"
        collapsed: true
        required: false
        fields:
          - label: "è‡ªå®šä¹‰ URL è·¯å¾„"
            name: "slug"
            widget: "string"
            required: false
            hint: "ç•™ç©ºåˆ™è‡ªåŠ¨ç”Ÿæˆ"
          
          - label: "ç½®é¡¶æ–‡ç« "
            name: "featured"
            widget: "boolean"
            default: false
            hint: "ç½®é¡¶æ˜¾ç¤ºåœ¨é¦–é¡µ"
          
          - label: "å…è®¸è¯„è®º"
            name: "comments"
            widget: "boolean"
            default: true
            hint: "æ˜¯å¦å¼€å¯è¯„è®ºåŠŸèƒ½"
          
          - label: "é˜…è¯»æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰"
            name: "readingTime"
            widget: "number"
            value_type: "int"
            min: 1
            max: 180
            required: false
            hint: "ç•™ç©ºåˆ™è‡ªåŠ¨è®¡ç®—"
          
          - label: "å­—æ•°ç»Ÿè®¡"
            name: "wordCount"
            widget: "number"
            value_type: "int"
            required: false
            hint: "ç•™ç©ºåˆ™è‡ªåŠ¨è®¡ç®—"

          - label: "ç›¸å…³æ–‡ç« "
            name: "related"
            widget: "list"
            required: false
            hint: "è¾“å…¥ç›¸å…³æ–‡ç« çš„æ–‡ä»¶å"

      # æ­£æ–‡å†…å®¹
      - label: "ğŸ“„ æ­£æ–‡å†…å®¹"
        name: "body"
        widget: "markdown"
        required: true
        hint: "æ”¯æŒ Markdown è¯­æ³•ï¼Œå¯æ’å…¥å›¾ç‰‡ã€ä»£ç å—ç­‰"
        buttons:
          - bold
          - italic
          - code
          - link
          - heading-two
          - heading-three
          - heading-four
          - quote
          - bulleted-list
          - numbered-list
        editor_components:
          - image
          - code-block

  # ====================================
  # é¡µé¢ç®¡ç†ï¼ˆå…³äºã€å‹é“¾ç­‰ï¼‰
  # ====================================
  - name: "pages"
    label: "ğŸ“„ é¡µé¢"
    label_singular: "é¡µé¢"
    folder: "src/content/pages"
    create: true
    format: "frontmatter"
    extension: "md"
    slug: "{{slug}}"
    
    fields:
      - {label: "æ ‡é¢˜", name: "title", widget: "string"}
      - {label: "å‘å¸ƒæ—¥æœŸ", name: "published", widget: "datetime", format: "YYYY-MM-DD", time_format: false}
      - {label: "æè¿°", name: "description", widget: "text", required: false}
      - {label: "æ­£æ–‡", name: "body", widget: "markdown"}

  # ====================================
  # ç«™ç‚¹è®¾ç½®ï¼ˆå•ä¾‹é…ç½®ï¼‰
  # ====================================
  - name: "settings"
    label: "âš™ï¸ ç«™ç‚¹è®¾ç½®"
    files:
      - label: "ç½‘ç«™é…ç½®"
        name: "site"
        file: "src/config/site.json"
        fields:
          - {label: "ç½‘ç«™æ ‡é¢˜", name: "title", widget: "string"}
          - {label: "ç½‘ç«™æè¿°", name: "description", widget: "text"}
          - {label: "ç½‘ç«™ URL", name: "url", widget: "string"}
          - {label: "ä½œè€…", name: "author", widget: "string"}
          - {label: "ä½œè€…é‚®ç®±", name: "email", widget: "string", required: false}
          - {label: "ç¤¾äº¤é“¾æ¥", name: "social", widget: "object", fields: [
              {label: "GitHub", name: "github", widget: "string", required: false},
              {label: "Twitter", name: "twitter", widget: "string", required: false},
              {label: "å¾®åš", name: "weibo", widget: "string", required: false}
            ]}

      - label: "å¯¼èˆªèœå•"
        name: "navigation"
        file: "src/config/navigation.json"
        fields:
          - label: "ä¸»å¯¼èˆª"
            name: "main"
            widget: "list"
            fields:
              - {label: "åç§°", name: "name", widget: "string"}
              - {label: "é“¾æ¥", name: "url", widget: "string"}
              - {label: "æ˜¯å¦åœ¨æ–°çª—å£æ‰“å¼€", name: "external", widget: "boolean", default: false, required: false}